<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Prawnstar Blockchain: Blockchain Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Prawnstar Blockchain
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="class_blockchain-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Blockchain Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_blockchain_8hpp_source.html">Blockchain.hpp</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a8b2d507929548019ed2c73b1956317b1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a8b2d507929548019ed2c73b1956317b1">Blockchain</a> (<a class="el" href="class_node.html">Node</a> *node)</td></tr>
<tr class="separator:a8b2d507929548019ed2c73b1956317b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47010faf89dca81aa50b1054a3ad6ad5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a47010faf89dca81aa50b1054a3ad6ad5">~Blockchain</a> ()</td></tr>
<tr class="separator:a47010faf89dca81aa50b1054a3ad6ad5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89948907068998a0d48ef911a4cc9e40"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a89948907068998a0d48ef911a4cc9e40">addBlock</a> (const <a class="el" href="class_block.html">Block</a> &amp;block)</td></tr>
<tr class="separator:a89948907068998a0d48ef911a4cc9e40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcd7f1987327abfc8880d132e26d0744"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#afcd7f1987327abfc8880d132e26d0744">blockCountValid</a> (const <a class="el" href="class_block.html">Block</a> &amp;)</td></tr>
<tr class="separator:afcd7f1987327abfc8880d132e26d0744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff4479e0d60e2178e5990791003b7d2f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#aff4479e0d60e2178e5990791003b7d2f">lastBlockHashValid</a> (const <a class="el" href="class_block.html">Block</a> &amp;)</td></tr>
<tr class="separator:aff4479e0d60e2178e5990791003b7d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a313ff824d102d675c08e902ac72468ae"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a313ff824d102d675c08e902ac72468ae">transactionCovered</a> (const <a class="el" href="class_transaction.html">Transaction</a> &amp;)</td></tr>
<tr class="separator:a313ff824d102d675c08e902ac72468ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4e6bb083bde20f6ad2a60f80fbd4655"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#aa4e6bb083bde20f6ad2a60f80fbd4655">getCoveredTransactionSet</a> (const std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;)</td></tr>
<tr class="separator:aa4e6bb083bde20f6ad2a60f80fbd4655"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa58c56900a828b0840063c2f9691ac"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a8fa58c56900a828b0840063c2f9691ac">executeTransaction</a> (const <a class="el" href="class_transaction.html">Transaction</a> &amp;)</td></tr>
<tr class="separator:a8fa58c56900a828b0840063c2f9691ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4850cf82e32a776715eb205ee9a08e75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a4850cf82e32a776715eb205ee9a08e75">executeTransactions</a> (const std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;)</td></tr>
<tr class="separator:a4850cf82e32a776715eb205ee9a08e75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ebf8475a14fcb7b943e5dbcf6134ec8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="class_block.html">Block</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a6ebf8475a14fcb7b943e5dbcf6134ec8">createBlock</a> (const std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;, const std::string &amp;)</td></tr>
<tr class="separator:a6ebf8475a14fcb7b943e5dbcf6134ec8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0dcd65d602435ffe46498dabd901648d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a0dcd65d602435ffe46498dabd901648d">transactionExists</a> (const <a class="el" href="class_transaction.html">Transaction</a> &amp;)</td></tr>
<tr class="separator:a0dcd65d602435ffe46498dabd901648d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3839678f351a8973eb5f75a04beb1f0f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a3839678f351a8973eb5f75a04beb1f0f">forgerValid</a> (const <a class="el" href="class_block.html">Block</a> &amp;)</td></tr>
<tr class="separator:a3839678f351a8973eb5f75a04beb1f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c06155afda5057358a20a6cf95bb4d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a87c06155afda5057358a20a6cf95bb4d">transactionValid</a> (const std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;)</td></tr>
<tr class="separator:a87c06155afda5057358a20a6cf95bb4d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a846fbcfc5132f7bbd9bd6a6ec79e4d22"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a846fbcfc5132f7bbd9bd6a6ec79e4d22">nextForger</a> ()</td></tr>
<tr class="separator:a846fbcfc5132f7bbd9bd6a6ec79e4d22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d993d8f29c4aa68476ed115a263d8c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a56d993d8f29c4aa68476ed115a263d8c">blockHasTransactions</a> (const <a class="el" href="class_block.html">Block</a> &amp;)</td></tr>
<tr class="separator:a56d993d8f29c4aa68476ed115a263d8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a829f0552d41c8078f336c63c768e8bbb"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a829f0552d41c8078f336c63c768e8bbb">toJsonWebView</a> ()</td></tr>
<tr class="separator:a829f0552d41c8078f336c63c768e8bbb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a694b5f2cfe6f327ecfeeb6985e000f7d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a694b5f2cfe6f327ecfeeb6985e000f7d">calculateForgerReward</a> (std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;)</td></tr>
<tr class="separator:a694b5f2cfe6f327ecfeeb6985e000f7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc23150b5e1cedf6942aade929ec775"><td class="memItemLeft" align="right" valign="top">std::vector&lt; nlohmann::json &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a1fc23150b5e1cedf6942aade929ec775">txsByAddress</a> (const std::string &amp;)</td></tr>
<tr class="separator:a1fc23150b5e1cedf6942aade929ec775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1235ef58b69abb44d002454c97e91d6"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#af1235ef58b69abb44d002454c97e91d6">getTransaction</a> (const std::string &amp;)</td></tr>
<tr class="separator:af1235ef58b69abb44d002454c97e91d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e11301b46481d5a4d2e0bf517bf6989"><td class="memItemLeft" align="right" valign="top">nlohmann::json&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a5e11301b46481d5a4d2e0bf517bf6989">toPureJson</a> ()</td></tr>
<tr class="separator:a5e11301b46481d5a4d2e0bf517bf6989"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af95ef0f76e085ca5b4aa20fbacdd68d4"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="class_block.html">Block</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#af95ef0f76e085ca5b4aa20fbacdd68d4">genesis</a> ()</td></tr>
<tr class="separator:af95ef0f76e085ca5b4aa20fbacdd68d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c654d2336b7691abe31fb31ec2bf7ec"><td class="memItemLeft" align="right" valign="top">static vector&lt; nlohmann::json &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a1c654d2336b7691abe31fb31ec2bf7ec">blockList</a> (vector&lt; <a class="el" href="class_block.html">Block</a> &gt; &amp;)</td></tr>
<tr class="separator:a1c654d2336b7691abe31fb31ec2bf7ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8956b2548c67d722a0d1194a2213a89c"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a8956b2548c67d722a0d1194a2213a89c">toJson</a> (std::vector&lt; <a class="el" href="class_block.html">Block</a> &gt;)</td></tr>
<tr class="separator:a8956b2548c67d722a0d1194a2213a89c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a10f51613cc18f007f4b7178788dd9a74"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="class_block.html">Block</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a10f51613cc18f007f4b7178788dd9a74">blocks</a> {}</td></tr>
<tr class="separator:a10f51613cc18f007f4b7178788dd9a74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4797856382c3260becf198bd29693513"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_blockchain.html#a4797856382c3260becf198bd29693513">blockchainMutex</a> {}</td></tr>
<tr class="separator:a4797856382c3260becf198bd29693513"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p ><a class="el" href="class_blockchain.html">Blockchain</a> class. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a8b2d507929548019ed2c73b1956317b1" name="a8b2d507929548019ed2c73b1956317b1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b2d507929548019ed2c73b1956317b1">&#9670;&nbsp;</a></span>Blockchain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Blockchain::Blockchain </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="class_node.html">Node</a> *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Create the blockchain object. </p>

</div>
</div>
<a id="a47010faf89dca81aa50b1054a3ad6ad5" name="a47010faf89dca81aa50b1054a3ad6ad5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47010faf89dca81aa50b1054a3ad6ad5">&#9670;&nbsp;</a></span>~Blockchain()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">Blockchain::~Blockchain </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">default</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p ><a class="el" href="class_blockchain.html">Blockchain</a> destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a89948907068998a0d48ef911a4cc9e40" name="a89948907068998a0d48ef911a4cc9e40"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89948907068998a0d48ef911a4cc9e40">&#9670;&nbsp;</a></span>addBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Blockchain::addBlock </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_block.html">Block</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<p>Add a new block to the blockchain. </p>

</div>
</div>
<a id="afcd7f1987327abfc8880d132e26d0744" name="afcd7f1987327abfc8880d132e26d0744"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afcd7f1987327abfc8880d132e26d0744">&#9670;&nbsp;</a></span>blockCountValid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Blockchain::blockCountValid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_block.html">Block</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<p>Ensure that the block count is valid by comparing the blockCount of the new block minus one is equal to the last block of the blockchain. </p>

</div>
</div>
<a id="a56d993d8f29c4aa68476ed115a263d8c" name="a56d993d8f29c4aa68476ed115a263d8c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a56d993d8f29c4aa68476ed115a263d8c">&#9670;&nbsp;</a></span>blockHasTransactions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Blockchain::blockHasTransactions </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_block.html">Block</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<p>Ensure the new block has transactions before execution. </p>

</div>
</div>
<a id="a1c654d2336b7691abe31fb31ec2bf7ec" name="a1c654d2336b7691abe31fb31ec2bf7ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1c654d2336b7691abe31fb31ec2bf7ec">&#9670;&nbsp;</a></span>blockList()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; nlohmann::json &gt; Blockchain::blockList </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="class_block.html">Block</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>blocks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blocks</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>vector&lt;nlohmann::json&gt;</dd></dl>
<p>Return a json representation for a list of given blocks. </p>

</div>
</div>
<a id="a694b5f2cfe6f327ecfeeb6985e000f7d" name="a694b5f2cfe6f327ecfeeb6985e000f7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a694b5f2cfe6f327ecfeeb6985e000f7d">&#9670;&nbsp;</a></span>calculateForgerReward()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; Blockchain::calculateForgerReward </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>transactions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactions</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;Transaction&gt;</dd></dl>
<p>Calculate the forger reward and set new balances accordingly. Forgers get paid by the senders. </p>
<p >No forger reward for STAKE or REWARD transactions. We don't need to add REWARD transactions to the if statement above because REWARD transactions are only created after the above check is performed.</p>

</div>
</div>
<a id="a6ebf8475a14fcb7b943e5dbcf6134ec8" name="a6ebf8475a14fcb7b943e5dbcf6134ec8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6ebf8475a14fcb7b943e5dbcf6134ec8">&#9670;&nbsp;</a></span>createBlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_block.html">Block</a> Blockchain::createBlock </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>transactionsFromPool</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>forgerAddress</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactionsFromPool</td><td></td></tr>
    <tr><td class="paramname">forgerAddress</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_block.html">Block</a></dd></dl>
<p>Create a new block with the given transactions and forger. </p>

</div>
</div>
<a id="a8fa58c56900a828b0840063c2f9691ac" name="a8fa58c56900a828b0840063c2f9691ac"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8fa58c56900a828b0840063c2f9691ac">&#9670;&nbsp;</a></span>executeTransaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blockchain::executeTransaction </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_transaction.html">Transaction</a> &amp;&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Execute the given transaction. </p>

</div>
</div>
<a id="a4850cf82e32a776715eb205ee9a08e75" name="a4850cf82e32a776715eb205ee9a08e75"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4850cf82e32a776715eb205ee9a08e75">&#9670;&nbsp;</a></span>executeTransactions()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Blockchain::executeTransactions </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>transactions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactions</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>Wrapper for executing each transaction. </p>

</div>
</div>
<a id="a3839678f351a8973eb5f75a04beb1f0f" name="a3839678f351a8973eb5f75a04beb1f0f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3839678f351a8973eb5f75a04beb1f0f">&#9670;&nbsp;</a></span>forgerValid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Blockchain::forgerValid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_block.html">Block</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<p>Run the proof of work algorithm to double check our forger is valid. </p>

</div>
</div>
<a id="af95ef0f76e085ca5b4aa20fbacdd68d4" name="af95ef0f76e085ca5b4aa20fbacdd68d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af95ef0f76e085ca5b4aa20fbacdd68d4">&#9670;&nbsp;</a></span>genesis()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_block.html">Block</a> Blockchain::genesis </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="class_block.html">Block</a></dd></dl>
<p>Create the genesis block for the blockchain. </p>

</div>
</div>
<a id="aa4e6bb083bde20f6ad2a60f80fbd4655" name="aa4e6bb083bde20f6ad2a60f80fbd4655"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa4e6bb083bde20f6ad2a60f80fbd4655">&#9670;&nbsp;</a></span>getCoveredTransactionSet()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; Blockchain::getCoveredTransactionSet </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;Transaction&gt;</dd></dl>
<p>Get covered transactions from list of transactions. </p>

</div>
</div>
<a id="af1235ef58b69abb44d002454c97e91d6" name="af1235ef58b69abb44d002454c97e91d6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1235ef58b69abb44d002454c97e91d6">&#9670;&nbsp;</a></span>getTransaction()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Blockchain::getTransaction </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>txid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">txid</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string</dd></dl>
<p>Return a json string of the transaction with the given transaction id. </p>

</div>
</div>
<a id="aff4479e0d60e2178e5990791003b7d2f" name="aff4479e0d60e2178e5990791003b7d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff4479e0d60e2178e5990791003b7d2f">&#9670;&nbsp;</a></span>lastBlockHashValid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Blockchain::lastBlockHashValid </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_block.html">Block</a> &amp;&#160;</td>
          <td class="paramname"><em>block</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">block</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<p>Make sure the lastHash of the block is equal to the hash of the blockchain's last block. </p>

</div>
</div>
<a id="a846fbcfc5132f7bbd9bd6a6ec79e4d22" name="a846fbcfc5132f7bbd9bd6a6ec79e4d22"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a846fbcfc5132f7bbd9bd6a6ec79e4d22">&#9670;&nbsp;</a></span>nextForger()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Blockchain::nextForger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>std::string</dd></dl>
<p>Run the proof of work algorithm to get the next forger. </p>

</div>
</div>
<a id="a5e11301b46481d5a4d2e0bf517bf6989" name="a5e11301b46481d5a4d2e0bf517bf6989"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e11301b46481d5a4d2e0bf517bf6989">&#9670;&nbsp;</a></span>toPureJson()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">nlohmann::json Blockchain::toPureJson </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>nlohmann::json</dd></dl>
<p>Return json representation of the entire blockchain. </p>

</div>
</div>
<a id="a8956b2548c67d722a0d1194a2213a89c" name="a8956b2548c67d722a0d1194a2213a89c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8956b2548c67d722a0d1194a2213a89c">&#9670;&nbsp;</a></span>toJson()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string Blockchain::toJson </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_block.html">Block</a> &gt;&#160;</td>
          <td class="paramname"><em>blocks</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">blocks</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::string</dd></dl>
<p>Given a list of blocks, return a stringified json representation. </p>

</div>
</div>
<a id="a829f0552d41c8078f336c63c768e8bbb" name="a829f0552d41c8078f336c63c768e8bbb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a829f0552d41c8078f336c63c768e8bbb">&#9670;&nbsp;</a></span>toJsonWebView()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string Blockchain::toJsonWebView </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="section return"><dt>Returns</dt><dd>std::string</dd></dl>
<p>Return a stringified json representation of all blocks. </p>

</div>
</div>
<a id="a313ff824d102d675c08e902ac72468ae" name="a313ff824d102d675c08e902ac72468ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a313ff824d102d675c08e902ac72468ae">&#9670;&nbsp;</a></span>transactionCovered()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Blockchain::transactionCovered </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_transaction.html">Transaction</a> &amp;&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<p>Make sure the sender has enough funds to continue the transaction. Note that we forgo this check if the transaction type is a REWARD or an EXCHANGE transaction. </p>

</div>
</div>
<a id="a0dcd65d602435ffe46498dabd901648d" name="a0dcd65d602435ffe46498dabd901648d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0dcd65d602435ffe46498dabd901648d">&#9670;&nbsp;</a></span>transactionExists()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Blockchain::transactionExists </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_transaction.html">Transaction</a> &amp;&#160;</td>
          <td class="paramname"><em>transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transaction</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<p>Check to see if the given transaction is already on the blockchain. </p>

</div>
</div>
<a id="a87c06155afda5057358a20a6cf95bb4d" name="a87c06155afda5057358a20a6cf95bb4d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a87c06155afda5057358a20a6cf95bb4d">&#9670;&nbsp;</a></span>transactionValid()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool Blockchain::transactionValid </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="class_transaction.html">Transaction</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>transactions</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactions</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool</dd></dl>
<p>Run <a class="el" href="class_blockchain.html#aa4e6bb083bde20f6ad2a60f80fbd4655">getCoveredTransactionSet()</a> on the list of transactions and compare the resulting vector size with the original vector size for validity. </p>

</div>
</div>
<a id="a1fc23150b5e1cedf6942aade929ec775" name="a1fc23150b5e1cedf6942aade929ec775"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fc23150b5e1cedf6942aade929ec775">&#9670;&nbsp;</a></span>txsByAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; nlohmann::json &gt; Blockchain::txsByAddress </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>std::vector&lt;nlohmann::json&gt;</dd></dl>
<p>Return a json representation of all transactions associated with a specific address. </p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a4797856382c3260becf198bd29693513" name="a4797856382c3260becf198bd29693513"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4797856382c3260becf198bd29693513">&#9670;&nbsp;</a></span>blockchainMutex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex Blockchain::blockchainMutex {}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >mutex for accessing shared blockchain data </p>

</div>
</div>
<a id="a10f51613cc18f007f4b7178788dd9a74" name="a10f51613cc18f007f4b7178788dd9a74"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a10f51613cc18f007f4b7178788dd9a74">&#9670;&nbsp;</a></span>blocks</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;<a class="el" href="class_block.html">Block</a>&gt; Blockchain::blocks {}</td>
        </tr>
      </table>
</div><div class="memdoc">
<p >list of blocks </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_blockchain_8hpp_source.html">Blockchain.hpp</a></li>
<li>Blockchain.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
