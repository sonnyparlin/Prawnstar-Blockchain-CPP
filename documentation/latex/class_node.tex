\hypertarget{class_node}{}\doxysection{Node Class Reference}
\label{class_node}\index{Node@{Node}}


{\ttfamily \#include $<$Node.\+hpp$>$}

\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_node_a1e1fb2f1f7689f7aa4b19787093fcb76}{Node}} (char $\ast$$\ast$argv)
\item 
void \mbox{\hyperlink{class_node_a92ae2118238f692dee64f2dcb0406ec9}{start\+Servers}} (int argc, char $\ast$$\ast$argv)
\item 
bool \mbox{\hyperlink{class_node_a308b10eb07ee09df6bef85ecd67d4e85}{handle\+Transaction}} (\mbox{\hyperlink{class_transaction}{Transaction}} \&, bool broadcast=true)
\item 
void \mbox{\hyperlink{class_node_a3431dcfd8525b2eb4bc74262363d0465}{handle\+Block}} (\mbox{\hyperlink{class_block}{Block}} \&block, bool broadcast)
\item 
void \mbox{\hyperlink{class_node_af7afdfcb0f02875839812b4c0a44b981}{request\+Chain}} () const
\item 
void \mbox{\hyperlink{class_node_ac08fe080956d22ded0226fd3b47a4fdc}{forge}} ()
\item 
void \mbox{\hyperlink{class_node_af25a469a96f939eb8a2bde8de080a2cb}{handle\+Blockchain\+Request}} (std\+::string) const
\item 
void \mbox{\hyperlink{class_node_afca81a037e9e4fe4cbacf0a0637b7ce2}{handle\+Blockchain}} (const std\+::string \&blockchain\+String) const
\item 
std\+::string \mbox{\hyperlink{class_node_a85f2a46bd337dea9c67d907430a45edc}{get\+Node\+ID}} () const
\item 
void \mbox{\hyperlink{class_node_af77a45d7a2a00d69259dd54a8dee2671}{log}} (std\+::string const \&msg)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_node}{Node}} $\ast$ \mbox{\hyperlink{class_node_a74ae879449651bf3658073b041d97f58}{create\+Node}} (char $\ast$$\ast$argv)
\item 
static std\+::string \mbox{\hyperlink{class_node_ab3291bce63c6c99090e49abcbb4c29b5}{get\+Console\+Log}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\hyperlink{class_transaction_pool}{Transaction\+Pool}} \mbox{\hyperlink{class_node_a8a04184423202651a3b807c6a2d0a508}{transaction\+Pool}} \{\}
\item 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ \mbox{\hyperlink{class_node_a4eb8eec73c312bdf2509e30e3e059424}{node\+Wallet}} \{\}
\item 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ \mbox{\hyperlink{class_node_a3c262e455d6332260f25a42b529b5906}{exchange\+Wallet}} \{\}
\item 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ \mbox{\hyperlink{class_node_a14a9758819bd22fe4a32478a08b88bf5}{bob\+Wallet}} \{\}
\item 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ \mbox{\hyperlink{class_node_a15d9b97d824afee953bad4d38489afc5}{alice\+Wallet}} \{\}
\item 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ \mbox{\hyperlink{class_node_aa241ae759578553f9167bfa9dc8ec901}{node2\+Wallet}} \{\}
\item 
\mbox{\hyperlink{class_blockchain}{Blockchain}} $\ast$ \mbox{\hyperlink{class_node_adf4848690854c7c8470804626a57cf78}{blockchain}} \{\}
\item 
\mbox{\hyperlink{class_account_model}{Account\+Model}} $\ast$ \mbox{\hyperlink{class_node_ab9865ce71e40837c33c554aa3bb5260f}{account\+Model}} \{\}
\item 
\mbox{\hyperlink{class_socket_communication}{Socket\+Communication}} $\ast$ \mbox{\hyperlink{class_node_a7094f5ca84e772165ce4ab369679853b}{p2p}} \{\}
\item 
\mbox{\hyperlink{class_proof_of_stake}{Proof\+Of\+Stake}} $\ast$ \mbox{\hyperlink{class_node_a8924885855cec659830a99c46e0b190e}{proof\+Of\+Stake}} \{\}
\item 
std\+::mutex \mbox{\hyperlink{class_node_a527b390d6611ed21675b9930618916ec}{log\+Mutex}} \{\}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
Our primary interface between our peer to peer network and API. 

\doxysubsection{Constructor \& Destructor Documentation}
\mbox{\Hypertarget{class_node_a1e1fb2f1f7689f7aa4b19787093fcb76}\label{class_node_a1e1fb2f1f7689f7aa4b19787093fcb76}} 
\index{Node@{Node}!Node@{Node}}
\index{Node@{Node}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{Node()}{Node()}}
{\footnotesize\ttfamily Node\+::\+Node (\begin{DoxyParamCaption}\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [explicit]}}


\begin{DoxyParams}{Parameters}
{\em argv} & \\
\hline
\end{DoxyParams}
Constructor for our main \mbox{\hyperlink{class_node}{Node}} class (singleton) 

\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_node_a74ae879449651bf3658073b041d97f58}\label{class_node_a74ae879449651bf3658073b041d97f58}} 
\index{Node@{Node}!createNode@{createNode}}
\index{createNode@{createNode}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{createNode()}{createNode()}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_node}{Node}} $\ast$ Node\+::create\+Node (\begin{DoxyParamCaption}\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}


\begin{DoxyParams}{Parameters}
{\em argv} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
\mbox{\hyperlink{class_node}{Node}}
\end{DoxyReturn}
Our main singleton \mbox{\hyperlink{class_node}{Node}} for the application. \mbox{\Hypertarget{class_node_ac08fe080956d22ded0226fd3b47a4fdc}\label{class_node_ac08fe080956d22ded0226fd3b47a4fdc}} 
\index{Node@{Node}!forge@{forge}}
\index{forge@{forge}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{forge()}{forge()}}
{\footnotesize\ttfamily void Node\+::forge (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This is where new blocks are initiated for this forger. \begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000003}{Todo}}]write the new block to our mongodb instance \end{DoxyRefDesc}
\mbox{\Hypertarget{class_node_ab3291bce63c6c99090e49abcbb4c29b5}\label{class_node_ab3291bce63c6c99090e49abcbb4c29b5}} 
\index{Node@{Node}!getConsoleLog@{getConsoleLog}}
\index{getConsoleLog@{getConsoleLog}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{getConsoleLog()}{getConsoleLog()}}
{\footnotesize\ttfamily std\+::string Node\+::get\+Console\+Log (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})\hspace{0.3cm}{\ttfamily [static]}}

\begin{DoxyReturn}{Returns}
std\+::string
\end{DoxyReturn}
Return last 10 lines of console.\+log \mbox{\Hypertarget{class_node_a85f2a46bd337dea9c67d907430a45edc}\label{class_node_a85f2a46bd337dea9c67d907430a45edc}} 
\index{Node@{Node}!getNodeID@{getNodeID}}
\index{getNodeID@{getNodeID}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{getNodeID()}{getNodeID()}}
{\footnotesize\ttfamily std\+::string Node\+::get\+Node\+ID (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

\begin{DoxyReturn}{Returns}
std\+::string
\end{DoxyReturn}
Return \mbox{\hyperlink{class_node}{Node}}\textquotesingle{}s peer to peer server id \mbox{\Hypertarget{class_node_a3431dcfd8525b2eb4bc74262363d0465}\label{class_node_a3431dcfd8525b2eb4bc74262363d0465}} 
\index{Node@{Node}!handleBlock@{handleBlock}}
\index{handleBlock@{handleBlock}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{handleBlock()}{handleBlock()}}
{\footnotesize\ttfamily void Node\+::handle\+Block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_block}{Block}} \&}]{block,  }\item[{bool}]{broadcast }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em block} & \\
\hline
{\em broadcast} & Do check to make sure the block is valid before adding it to the chain. Broadcast if necessary. \\
\hline
\end{DoxyParams}
\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000001}{Todo}}]write the new block to our mongodb instance \end{DoxyRefDesc}
\mbox{\Hypertarget{class_node_afca81a037e9e4fe4cbacf0a0637b7ce2}\label{class_node_afca81a037e9e4fe4cbacf0a0637b7ce2}} 
\index{Node@{Node}!handleBlockchain@{handleBlockchain}}
\index{handleBlockchain@{handleBlockchain}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{handleBlockchain()}{handleBlockchain()}}
{\footnotesize\ttfamily void Node\+::handle\+Blockchain (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{blockchain\+String }\end{DoxyParamCaption}) const}


\begin{DoxyParams}{Parameters}
{\em blockchain\+String} & \\
\hline
\end{DoxyParams}
This is where we read and rebuild the blockchain or partial blockchain after requesting blocks from the master server. How many blocks we ad is based on how many we requested. Ensure the incoming block count is greater than the local block count. We can do this even when downloading a partial chain because we are using the block\+Count variable of the block itself rather than blocks.\+size().

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000002}{Todo}}]write the new block to our mongodb instance \end{DoxyRefDesc}
\mbox{\Hypertarget{class_node_af25a469a96f939eb8a2bde8de080a2cb}\label{class_node_af25a469a96f939eb8a2bde8de080a2cb}} 
\index{Node@{Node}!handleBlockchainRequest@{handleBlockchainRequest}}
\index{handleBlockchainRequest@{handleBlockchainRequest}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{handleBlockchainRequest()}{handleBlockchainRequest()}}
{\footnotesize\ttfamily void Node\+::handle\+Blockchain\+Request (\begin{DoxyParamCaption}\item[{std\+::string}]{requesting\+Node }\end{DoxyParamCaption}) const}


\begin{DoxyParams}{Parameters}
{\em requesting\+Node} & \\
\hline
\end{DoxyParams}
Only send the blocks which are missing from the requesting node. \mbox{\Hypertarget{class_node_a308b10eb07ee09df6bef85ecd67d4e85}\label{class_node_a308b10eb07ee09df6bef85ecd67d4e85}} 
\index{Node@{Node}!handleTransaction@{handleTransaction}}
\index{handleTransaction@{handleTransaction}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{handleTransaction()}{handleTransaction()}}
{\footnotesize\ttfamily bool Node\+::handle\+Transaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_transaction}{Transaction}} \&}]{transaction,  }\item[{bool}]{broadcast = {\ttfamily true} }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em transaction} & \\
\hline
{\em broadcast} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}

\end{DoxyReturn}
This is where we handle transactions. Called from Node\+API and \mbox{\hyperlink{class_socket_communication}{Socket\+Communication}}. \mbox{\Hypertarget{class_node_af77a45d7a2a00d69259dd54a8dee2671}\label{class_node_af77a45d7a2a00d69259dd54a8dee2671}} 
\index{Node@{Node}!log@{log}}
\index{log@{log}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{log()}{log()}}
{\footnotesize\ttfamily void Node\+::log (\begin{DoxyParamCaption}\item[{std\+::string const \&}]{msg }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em msg} & \\
\hline
\end{DoxyParams}
Write to log file. \mbox{\Hypertarget{class_node_af7afdfcb0f02875839812b4c0a44b981}\label{class_node_af7afdfcb0f02875839812b4c0a44b981}} 
\index{Node@{Node}!requestChain@{requestChain}}
\index{requestChain@{requestChain}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{requestChain()}{requestChain()}}
{\footnotesize\ttfamily void Node\+::request\+Chain (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Request complete or partial blockchain from the master node. Uses the local block count to determine how many blocks are needed from the master server. \mbox{\Hypertarget{class_node_a92ae2118238f692dee64f2dcb0406ec9}\label{class_node_a92ae2118238f692dee64f2dcb0406ec9}} 
\index{Node@{Node}!startServers@{startServers}}
\index{startServers@{startServers}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{startServers()}{startServers()}}
{\footnotesize\ttfamily void Node\+::start\+Servers (\begin{DoxyParamCaption}\item[{int}]{argc,  }\item[{char $\ast$$\ast$}]{argv }\end{DoxyParamCaption})}


\begin{DoxyParams}{Parameters}
{\em argc} & \\
\hline
{\em argv} & \\
\hline
\end{DoxyParams}
Start peer to peer server and api server 

\doxysubsection{Member Data Documentation}
\mbox{\Hypertarget{class_node_ab9865ce71e40837c33c554aa3bb5260f}\label{class_node_ab9865ce71e40837c33c554aa3bb5260f}} 
\index{Node@{Node}!accountModel@{accountModel}}
\index{accountModel@{accountModel}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{accountModel}{accountModel}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_account_model}{Account\+Model}}$\ast$ Node\+::account\+Model \{\}}

\mbox{\hyperlink{class_node}{Node}}\textquotesingle{}s account\+Model \mbox{\Hypertarget{class_node_a15d9b97d824afee953bad4d38489afc5}\label{class_node_a15d9b97d824afee953bad4d38489afc5}} 
\index{Node@{Node}!aliceWallet@{aliceWallet}}
\index{aliceWallet@{aliceWallet}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{aliceWallet}{aliceWallet}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_wallet}{Wallet}}$\ast$ Node\+::alice\+Wallet \{\}}

test wallet \mbox{\Hypertarget{class_node_adf4848690854c7c8470804626a57cf78}\label{class_node_adf4848690854c7c8470804626a57cf78}} 
\index{Node@{Node}!blockchain@{blockchain}}
\index{blockchain@{blockchain}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{blockchain}{blockchain}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_blockchain}{Blockchain}}$\ast$ Node\+::blockchain \{\}}

\mbox{\hyperlink{class_node}{Node}}\textquotesingle{}s blockchain \mbox{\Hypertarget{class_node_a14a9758819bd22fe4a32478a08b88bf5}\label{class_node_a14a9758819bd22fe4a32478a08b88bf5}} 
\index{Node@{Node}!bobWallet@{bobWallet}}
\index{bobWallet@{bobWallet}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{bobWallet}{bobWallet}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_wallet}{Wallet}}$\ast$ Node\+::bob\+Wallet \{\}}

test wallet \mbox{\Hypertarget{class_node_a3c262e455d6332260f25a42b529b5906}\label{class_node_a3c262e455d6332260f25a42b529b5906}} 
\index{Node@{Node}!exchangeWallet@{exchangeWallet}}
\index{exchangeWallet@{exchangeWallet}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{exchangeWallet}{exchangeWallet}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_wallet}{Wallet}}$\ast$ Node\+::exchange\+Wallet \{\}}

Exchange wallet \mbox{\Hypertarget{class_node_a527b390d6611ed21675b9930618916ec}\label{class_node_a527b390d6611ed21675b9930618916ec}} 
\index{Node@{Node}!logMutex@{logMutex}}
\index{logMutex@{logMutex}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{logMutex}{logMutex}}
{\footnotesize\ttfamily std\+::mutex Node\+::log\+Mutex \{\}}

mutex for accessing shared log file \mbox{\Hypertarget{class_node_aa241ae759578553f9167bfa9dc8ec901}\label{class_node_aa241ae759578553f9167bfa9dc8ec901}} 
\index{Node@{Node}!node2Wallet@{node2Wallet}}
\index{node2Wallet@{node2Wallet}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{node2Wallet}{node2Wallet}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_wallet}{Wallet}}$\ast$ Node\+::node2\+Wallet \{\}}

test wallet \mbox{\Hypertarget{class_node_a4eb8eec73c312bdf2509e30e3e059424}\label{class_node_a4eb8eec73c312bdf2509e30e3e059424}} 
\index{Node@{Node}!nodeWallet@{nodeWallet}}
\index{nodeWallet@{nodeWallet}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{nodeWallet}{nodeWallet}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_wallet}{Wallet}}$\ast$ Node\+::node\+Wallet \{\}}

This node\textquotesingle{}s wallet. \mbox{\Hypertarget{class_node_a7094f5ca84e772165ce4ab369679853b}\label{class_node_a7094f5ca84e772165ce4ab369679853b}} 
\index{Node@{Node}!p2p@{p2p}}
\index{p2p@{p2p}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{p2p}{p2p}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_socket_communication}{Socket\+Communication}}$\ast$ Node\+::p2p \{\}}

\mbox{\hyperlink{class_node}{Node}}\textquotesingle{}s \mbox{\hyperlink{class_socket_communication}{Socket\+Communication}} \mbox{\Hypertarget{class_node_a8924885855cec659830a99c46e0b190e}\label{class_node_a8924885855cec659830a99c46e0b190e}} 
\index{Node@{Node}!proofOfStake@{proofOfStake}}
\index{proofOfStake@{proofOfStake}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{proofOfStake}{proofOfStake}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_proof_of_stake}{Proof\+Of\+Stake}}$\ast$ Node\+::proof\+Of\+Stake \{\}}

\mbox{\hyperlink{class_node}{Node}}\textquotesingle{}s proof\+Of\+Stake \mbox{\Hypertarget{class_node_a8a04184423202651a3b807c6a2d0a508}\label{class_node_a8a04184423202651a3b807c6a2d0a508}} 
\index{Node@{Node}!transactionPool@{transactionPool}}
\index{transactionPool@{transactionPool}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{transactionPool}{transactionPool}}
{\footnotesize\ttfamily \mbox{\hyperlink{class_transaction_pool}{Transaction\+Pool}} Node\+::transaction\+Pool \{\}}

\mbox{\hyperlink{class_node}{Node}} transaction pool 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/Node.\+hpp\item 
Node.\+cpp\end{DoxyCompactItemize}
