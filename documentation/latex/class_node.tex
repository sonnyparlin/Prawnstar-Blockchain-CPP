\hypertarget{class_node}{}\doxysection{Node Class Reference}
\label{class_node}\index{Node@{Node}}
\doxysubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_node_a1e1fb2f1f7689f7aa4b19787093fcb76}\label{class_node_a1e1fb2f1f7689f7aa4b19787093fcb76}} 
{\bfseries Node} (char $\ast$$\ast$argv)
\item 
\mbox{\Hypertarget{class_node_a92ae2118238f692dee64f2dcb0406ec9}\label{class_node_a92ae2118238f692dee64f2dcb0406ec9}} 
void {\bfseries start\+Servers} (int argc, char $\ast$$\ast$argv)
\item 
bool \mbox{\hyperlink{class_node_a308b10eb07ee09df6bef85ecd67d4e85}{handle\+Transaction}} (\mbox{\hyperlink{class_transaction}{Transaction}} \&, bool broadcast=true)
\item 
void \mbox{\hyperlink{class_node_a3431dcfd8525b2eb4bc74262363d0465}{handle\+Block}} (\mbox{\hyperlink{class_block}{Block}} \&block, bool broadcast)
\item 
void \mbox{\hyperlink{class_node_af7afdfcb0f02875839812b4c0a44b981}{request\+Chain}} () const
\item 
void \mbox{\hyperlink{class_node_ac08fe080956d22ded0226fd3b47a4fdc}{forge}} ()
\item 
void \mbox{\hyperlink{class_node_af25a469a96f939eb8a2bde8de080a2cb}{handle\+Blockchain\+Request}} (std\+::string) const
\item 
void \mbox{\hyperlink{class_node_afca81a037e9e4fe4cbacf0a0637b7ce2}{handle\+Blockchain}} (const std\+::string \&blockchain\+String) const
\item 
\mbox{\Hypertarget{class_node_a85f2a46bd337dea9c67d907430a45edc}\label{class_node_a85f2a46bd337dea9c67d907430a45edc}} 
std\+::string {\bfseries get\+Node\+ID} () const
\item 
\mbox{\Hypertarget{class_node_af77a45d7a2a00d69259dd54a8dee2671}\label{class_node_af77a45d7a2a00d69259dd54a8dee2671}} 
void {\bfseries log} (std\+::string const \&msg)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_node_a74ae879449651bf3658073b041d97f58}\label{class_node_a74ae879449651bf3658073b041d97f58}} 
static \mbox{\hyperlink{class_node}{Node}} $\ast$ {\bfseries create\+Node} (char $\ast$$\ast$argv)
\item 
\mbox{\Hypertarget{class_node_ab3291bce63c6c99090e49abcbb4c29b5}\label{class_node_ab3291bce63c6c99090e49abcbb4c29b5}} 
static std\+::string {\bfseries get\+Console\+Log} ()
\end{DoxyCompactItemize}
\doxysubsection*{Public Attributes}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{class_node_a8a04184423202651a3b807c6a2d0a508}\label{class_node_a8a04184423202651a3b807c6a2d0a508}} 
\mbox{\hyperlink{class_transaction_pool}{Transaction\+Pool}} {\bfseries transaction\+Pool}
\item 
\mbox{\Hypertarget{class_node_a4eb8eec73c312bdf2509e30e3e059424}\label{class_node_a4eb8eec73c312bdf2509e30e3e059424}} 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ {\bfseries node\+Wallet}
\item 
\mbox{\Hypertarget{class_node_a3c262e455d6332260f25a42b529b5906}\label{class_node_a3c262e455d6332260f25a42b529b5906}} 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ {\bfseries exchange\+Wallet}
\item 
\mbox{\Hypertarget{class_node_a14a9758819bd22fe4a32478a08b88bf5}\label{class_node_a14a9758819bd22fe4a32478a08b88bf5}} 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ {\bfseries bob\+Wallet}
\item 
\mbox{\Hypertarget{class_node_a15d9b97d824afee953bad4d38489afc5}\label{class_node_a15d9b97d824afee953bad4d38489afc5}} 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ {\bfseries alice\+Wallet}
\item 
\mbox{\Hypertarget{class_node_aa241ae759578553f9167bfa9dc8ec901}\label{class_node_aa241ae759578553f9167bfa9dc8ec901}} 
\mbox{\hyperlink{class_wallet}{Wallet}} $\ast$ {\bfseries node2\+Wallet}
\item 
\mbox{\Hypertarget{class_node_adf4848690854c7c8470804626a57cf78}\label{class_node_adf4848690854c7c8470804626a57cf78}} 
\mbox{\hyperlink{class_blockchain}{Blockchain}} $\ast$ {\bfseries blockchain}
\item 
\mbox{\Hypertarget{class_node_ab9865ce71e40837c33c554aa3bb5260f}\label{class_node_ab9865ce71e40837c33c554aa3bb5260f}} 
\mbox{\hyperlink{class_account_model}{Account\+Model}} $\ast$ {\bfseries account\+Model}
\item 
\mbox{\Hypertarget{class_node_a7094f5ca84e772165ce4ab369679853b}\label{class_node_a7094f5ca84e772165ce4ab369679853b}} 
\mbox{\hyperlink{class_socket_communication}{Socket\+Communication}} $\ast$ {\bfseries p2p}
\item 
\mbox{\Hypertarget{class_node_a8924885855cec659830a99c46e0b190e}\label{class_node_a8924885855cec659830a99c46e0b190e}} 
\mbox{\hyperlink{class_proof_of_stake}{Proof\+Of\+Stake}} $\ast$ {\bfseries proof\+Of\+Stake}
\item 
\mbox{\Hypertarget{class_node_a6a48b88daf2aa3d0c973964010f6aaf2}\label{class_node_a6a48b88daf2aa3d0c973964010f6aaf2}} 
std\+::mutex {\bfseries node\+Mutex}
\item 
\mbox{\Hypertarget{class_node_a527b390d6611ed21675b9930618916ec}\label{class_node_a527b390d6611ed21675b9930618916ec}} 
std\+::mutex {\bfseries log\+Mutex}
\end{DoxyCompactItemize}


\doxysubsection{Member Function Documentation}
\mbox{\Hypertarget{class_node_ac08fe080956d22ded0226fd3b47a4fdc}\label{class_node_ac08fe080956d22ded0226fd3b47a4fdc}} 
\index{Node@{Node}!forge@{forge}}
\index{forge@{forge}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{forge()}{forge()}}
{\footnotesize\ttfamily void Node\+::forge (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

This is where new blocks are initiated for this forger. \begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000003}{Todo}}]write the new block to our mongodb instance \end{DoxyRefDesc}
\mbox{\Hypertarget{class_node_a3431dcfd8525b2eb4bc74262363d0465}\label{class_node_a3431dcfd8525b2eb4bc74262363d0465}} 
\index{Node@{Node}!handleBlock@{handleBlock}}
\index{handleBlock@{handleBlock}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{handleBlock()}{handleBlock()}}
{\footnotesize\ttfamily void Node\+::handle\+Block (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_block}{Block}} \&}]{block,  }\item[{bool}]{broadcast }\end{DoxyParamCaption})}

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000001}{Todo}}]write the new block to our mongodb instance \end{DoxyRefDesc}
\mbox{\Hypertarget{class_node_afca81a037e9e4fe4cbacf0a0637b7ce2}\label{class_node_afca81a037e9e4fe4cbacf0a0637b7ce2}} 
\index{Node@{Node}!handleBlockchain@{handleBlockchain}}
\index{handleBlockchain@{handleBlockchain}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{handleBlockchain()}{handleBlockchain()}}
{\footnotesize\ttfamily void Node\+::handle\+Blockchain (\begin{DoxyParamCaption}\item[{const std\+::string \&}]{blockchain\+String }\end{DoxyParamCaption}) const}

This is where we read and rebuild the blockchain or partial blockchain after requesting blocks from the master server. How many blocks we ad is based on how many we requested. Ensure the incoming block count is greater than the local block count. We can do this even when downloading a partial chain because we are using the block\+Count variable of the block itself rather than blocks.\+size().

\begin{DoxyRefDesc}{Todo}
\item[\mbox{\hyperlink{todo__todo000002}{Todo}}]write the new block to our mongodb instance \end{DoxyRefDesc}
\mbox{\Hypertarget{class_node_af25a469a96f939eb8a2bde8de080a2cb}\label{class_node_af25a469a96f939eb8a2bde8de080a2cb}} 
\index{Node@{Node}!handleBlockchainRequest@{handleBlockchainRequest}}
\index{handleBlockchainRequest@{handleBlockchainRequest}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{handleBlockchainRequest()}{handleBlockchainRequest()}}
{\footnotesize\ttfamily void Node\+::handle\+Blockchain\+Request (\begin{DoxyParamCaption}\item[{std\+::string}]{requesting\+Node }\end{DoxyParamCaption}) const}

Only send the blocks which are missing from the requesting node. \mbox{\Hypertarget{class_node_a308b10eb07ee09df6bef85ecd67d4e85}\label{class_node_a308b10eb07ee09df6bef85ecd67d4e85}} 
\index{Node@{Node}!handleTransaction@{handleTransaction}}
\index{handleTransaction@{handleTransaction}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{handleTransaction()}{handleTransaction()}}
{\footnotesize\ttfamily bool Node\+::handle\+Transaction (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{class_transaction}{Transaction}} \&}]{transaction,  }\item[{bool}]{broadcast = {\ttfamily true} }\end{DoxyParamCaption})}

This is where we handle transactions. Called from Node\+API and \mbox{\hyperlink{class_socket_communication}{Socket\+Communication}}. \mbox{\Hypertarget{class_node_af7afdfcb0f02875839812b4c0a44b981}\label{class_node_af7afdfcb0f02875839812b4c0a44b981}} 
\index{Node@{Node}!requestChain@{requestChain}}
\index{requestChain@{requestChain}!Node@{Node}}
\doxysubsubsection{\texorpdfstring{requestChain()}{requestChain()}}
{\footnotesize\ttfamily void Node\+::request\+Chain (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption}) const}

Request complete or partial blockchain from the master node. Uses the local block count to determine how many blocks are needed from the master server. 

The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
include/Node.\+hpp\item 
Node.\+cpp\end{DoxyCompactItemize}
